<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.FruitsVegetablesMallServer.mapper.GoodsDetailMapper">
 
 	<insert id="addGoodsDetail" parameterType="com.FruitsVegetablesMallServer.pojo.GoodsDetail" >
        insert into goodsdetail (imageUrls,categoryId,name,price,stock,specification,reducedPrice,minimunOrderQuantity,maximumOrderQuantity,minimumIncrementQuantity,detail) values(#{imageUrls},#{categoryId},#{name},#{price},#{stock},#{specification},#{reducedPrice},#{minimunOrderQuantity},#{maximumOrderQuantity},#{minimumIncrementQuantity},#{detail})
    </insert>
 
 	<delete id="deleteGoodsDetail" parameterType="java.lang.Integer">
		delete from goodsdetail where id = #{id}
	</delete>
 
 	<select id="queryAllGoodsDetail" resultType="com.FruitsVegetablesMallServer.pojo.GoodsDetail">
        select * from goodsdetail 
        <where>
		    <if test="categoryId >= 0">
		         and categoryId = #{categoryId}
		  	</if>
		  	<if test="name != ''">
		         or name like'%${name}%'
		  	</if>
		  	<if test="price >= 0">
		         or price = #{price}
		  	</if>
		  	<if test="stock >= 0">
		         or stock = #{stock}
		  	</if>
		  	<if test="reducedPrice >= 0">
		         or reducedPrice = #{reducedPrice}
		  	</if>
		</where>
    </select>
    
    <select id="queryGoodsDetail" resultType="com.FruitsVegetablesMallServer.pojo.GoodsDetail">
        select * from goodsdetail where id=#{id}
    </select>
 
 	<update id="updateGoodsDetail" parameterType="com.FruitsVegetablesMallServer.pojo.GoodsDetail">
		Update goodsdetail set imageUrls = #{imageUrls},categoryId = #{categoryId},name = #{name},price = #{price},stock = #{stock},specification = #{specification},reducedPrice = #{reducedPrice},minimunOrderQuantity = #{minimunOrderQuantity},maximumOrderQuantity = #{maximumOrderQuantity},minimumIncrementQuantity = #{minimumIncrementQuantity},detail = #{detail} where id = #{id}
	</update>
 
</mapper>